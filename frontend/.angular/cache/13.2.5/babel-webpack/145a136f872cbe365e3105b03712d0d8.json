{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/usuario.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/provincias.service\";\nimport * as i4 from \"src/app/services/actividades.service\";\nimport * as i5 from \"src/app/services/incidencia.service\";\nimport * as i6 from \"@angular/common\";\n\nfunction VerUsuarioComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵelement(1, \"img\", 32);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"../../../assets/imgs/usuarios/\", ctx_r0.usuario.foto, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction VerUsuarioComponent_h2_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.usuario.nombre, \" \", ctx_r1.usuario.apellidos, \"\");\n  }\n}\n\nfunction VerUsuarioComponent_p_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.usuario.email);\n  }\n}\n\nfunction VerUsuarioComponent_p_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.usuario.descripcion);\n  }\n}\n\nfunction VerUsuarioComponent_p_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r4.edad, \" a\\u00F1os, nacido el \", ctx_r4.nacimiento, \"\");\n  }\n}\n\nfunction VerUsuarioComponent_p_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r5.usuario.poblacion, \" (\", ctx_r5.provincia, \")\");\n  }\n}\n\nfunction VerUsuarioComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"h1\");\n    i0.ɵɵtext(2, \"Bloqueado\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 34);\n    i0.ɵɵlistener(\"click\", function VerUsuarioComponent_div_56_Template_p_click_3_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.desbloquear(ctx_r17.usuario.uid);\n    });\n    i0.ɵɵtext(4, \"Desbloquear\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction VerUsuarioComponent_p_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Ha organizado: \", ctx_r7.numActividades, \" actividades\");\n  }\n}\n\nfunction VerUsuarioComponent_p_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Ha organizado: \", ctx_r8.numActividades, \" actividad\");\n  }\n}\n\nfunction VerUsuarioComponent_a_62_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function VerUsuarioComponent_a_62_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.mostrarActividadesCreadas(true);\n    });\n    i0.ɵɵtext(1, \"Ver actividades\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction VerUsuarioComponent_a_63_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function VerUsuarioComponent_a_63_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.mostrarActividadesCreadas(false);\n    });\n    i0.ɵɵtext(1, \"Ocultar Actividades\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction VerUsuarioComponent_div_64_div_1_p_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const actividad_r24 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"(M\\u00EDn: \", actividad_r24.min_participantes, \" - M\\u00E1x: \", actividad_r24.max_participantes, \")\");\n  }\n}\n\nfunction VerUsuarioComponent_div_64_div_1_p_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 53);\n    i0.ɵɵtext(1, \"Completa\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"/actividades/ver-actividad/\", a1];\n};\n\nconst _c1 = function (a1) {\n  return [\"/chats/\", a1];\n};\n\nfunction VerUsuarioComponent_div_64_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38)(2, \"h5\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 39)(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"i\", 40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 41)(9, \"div\", 42);\n    i0.ɵɵelement(10, \"img\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 44)(12, \"h3\", 45);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"h4\", 46);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"h5\", 47)(17, \"strong\");\n    i0.ɵɵtext(18, \"Requisitos: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"p\", 48);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 49)(23, \"h3\", 50)(24, \"strong\");\n    i0.ɵɵtext(25, \"Precio: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\", 51)(28, \"h3\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, VerUsuarioComponent_div_64_div_1_p_30_Template, 2, 2, \"p\", 27);\n    i0.ɵɵtemplate(31, VerUsuarioComponent_div_64_div_1_p_31_Template, 2, 0, \"p\", 52);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const actividad_r24 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(actividad_r24.fecha2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(actividad_r24.poblacion);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, actividad_r24.uid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"../../../assets/imgs/actividades/\", actividad_r24.foto, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(16, _c0, actividad_r24.uid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(actividad_r24.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(actividad_r24.descripcion);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", actividad_r24.requisitos, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(18, _c1, actividad_r24.uid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(actividad_r24.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", actividad_r24.precio, \"\\u20AC\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", actividad_r24.num_participantes, \" Participantes \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !actividad_r24.completa);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", actividad_r24.completa);\n  }\n}\n\nfunction VerUsuarioComponent_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, VerUsuarioComponent_div_64_div_1_Template, 32, 20, \"div\", 36);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.listaActividades);\n  }\n}\n\nfunction VerUsuarioComponent_p_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Este usuario tiene: \", ctx_r12.numIncidencias, \" incidencias\");\n  }\n}\n\nfunction VerUsuarioComponent_p_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Este usuario tiene: \", ctx_r13.numIncidencias, \" incidencia\");\n  }\n}\n\nfunction VerUsuarioComponent_a_70_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function VerUsuarioComponent_a_70_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.mostrarIncidenciasUsuario(true);\n    });\n    i0.ɵɵtext(1, \"Ver Incidencias\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction VerUsuarioComponent_a_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function VerUsuarioComponent_a_71_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.mostrarIncidenciasUsuario(false);\n    });\n    i0.ɵɵtext(1, \"Ocultar Incidencias\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c2 = function (a1) {\n  return [\"/admin/incidencias/resolver-incidencia/\", a1];\n};\n\nfunction VerUsuarioComponent_div_72_div_1_h2_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"h2\", 57);\n    i0.ɵɵlistener(\"click\", function VerUsuarioComponent_div_72_div_1_h2_4_Template_h2_click_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext(3);\n      return ctx_r35.setBefore();\n    });\n    i0.ɵɵtext(1, \"Resolver\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const incidencia_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c2, incidencia_r33.uid));\n  }\n}\n\nfunction VerUsuarioComponent_div_72_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37)(1, \"div\", 38)(2, \"h3\", 54);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, VerUsuarioComponent_div_72_div_1_h2_4_Template, 2, 3, \"h2\", 55);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"table\", 56)(6, \"tbody\")(7, \"tr\")(8, \"th\");\n    i0.ɵɵtext(9, \"Denunciante:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"tr\")(13, \"th\");\n    i0.ɵɵtext(14, \"Denunciado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"tr\")(18, \"th\");\n    i0.ɵɵtext(19, \"Motivo:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"tr\")(23, \"th\");\n    i0.ɵɵtext(24, \"Estado:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"td\");\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const incidencia_r33 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(incidencia_r33.fecha2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", incidencia_r33.estado == \"Pendiente\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(incidencia_r33.emailDenunciante);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(incidencia_r33.emailDenunciado);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(incidencia_r33.motivo2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(incidencia_r33.estado);\n  }\n}\n\nfunction VerUsuarioComponent_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, VerUsuarioComponent_div_72_div_1_Template, 27, 6, \"div\", 36);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.listaIncidencias);\n  }\n}\n\nexport let VerUsuarioComponent = /*#__PURE__*/(() => {\n  class VerUsuarioComponent {\n    constructor(usuarioService, route, provinciaService, actividadesService, incidenciaService) {\n      this.usuarioService = usuarioService;\n      this.route = route;\n      this.provinciaService = provinciaService;\n      this.actividadesService = actividadesService;\n      this.incidenciaService = incidenciaService;\n      this.mostrarActividades = false;\n      this.listaActividades = [];\n      this.numActividades = 0;\n      this.numIncidencias = 0;\n      this.mostrarIncidencias = false;\n      this.listaIncidencias = [];\n    }\n\n    ngOnInit() {\n      this.idUsuario = this.route.snapshot.params['uid'];\n      this.cargarUsuario();\n      this.cargarActividades();\n      this.cargarIncidencias();\n    }\n\n    cargarUsuario() {\n      if (this.idUsuario !== \"\") {\n        this.usuarioService.cargarUsuario(this.idUsuario).subscribe(res => {\n          this.usuario = res['existeUsuario'];\n          console.log(this.usuario);\n          this.calcularNacimiento(this.usuario.fecha_nacimiento);\n          this.usuarioService.getEdad(this.idUsuario).subscribe(res => {\n            this.edad = res.result;\n          }, err => {\n            console.log(err);\n          });\n          this.provinciaService.cargarProvincias().subscribe(res => {\n            let provs = res['provincias'];\n\n            for (let i = 0; i < provs.length; i++) {\n              if (provs[i].uid == this.usuario.provincia) {\n                this.provincia = provs[i].nombre;\n              }\n            }\n          }, err => {\n            console.log(err);\n          });\n        }, err => {\n          console.log(err);\n        });\n      }\n    }\n\n    mostrarActividadesCreadas(mostrar) {\n      this.mostrarActividades = mostrar;\n    }\n\n    mostrarIncidenciasUsuario(mostrar) {\n      this.mostrarIncidencias = mostrar;\n    }\n\n    cargarActividades() {\n      this.actividadesService.cargarActividades().subscribe(res => {\n        let actividades = res['actividades'];\n\n        for (let i = 0; i < actividades.length; i++) {\n          if (actividades[i].organizador == this.idUsuario) {\n            this.listaActividades.push(actividades[i]);\n          }\n        }\n\n        this.actualizarActividades();\n      }, err => {\n        console.log(err);\n      });\n    }\n\n    calcularNacimiento(date) {\n      let dia, mes, anyo;\n      let fecha = new Date(date);\n      dia = fecha.getDate();\n      mes = fecha.getMonth() + 1;\n      anyo = fecha.getFullYear();\n      this.nacimiento = dia + \"/\" + mes + \"/\" + anyo;\n    }\n\n    actualizarActividades() {\n      for (let i = 0; i < this.listaActividades.length; i++) {\n        this.listaActividades[i].foto = this.listaActividades[i].fotos[0];\n        this.listaActividades[i].fechaValida = this.validarFecha(this.listaActividades[i].fecha);\n        console.log(this.listaActividades[i].fechaValida);\n        this.listaActividades[i].fecha2 = this.convertirFecha(this.listaActividades[i].fecha);\n        this.listaActividades[i].favorito = false;\n        this.listaActividades[i].asistir = false;\n\n        if (this.listaActividades[i].requisitos.length > 75) {\n          this.listaActividades[i].requisitos = this.listaActividades[i].requisitos.substring(0, 74) + \"...\";\n        }\n\n        if (this.listaActividades[i].poblacion.length > 30) {\n          this.listaActividades[i].poblacion = this.listaActividades[i].poblacion.substring(0, 29) + \"...\";\n        }\n\n        if (this.listaActividades[i].titulo.length > 22) {\n          this.listaActividades[i].titulo = this.listaActividades[i].titulo.substring(0, 21) + \"...\";\n        }\n\n        if (this.listaActividades[i].descripcion.length > 120) {\n          this.listaActividades[i].descripcion = this.listaActividades[i].descripcion.substring(0, 119) + \"...\";\n        }\n\n        if (this.listaActividades[i].organizador == this.idUsuario) {\n          this.listaActividades[i].esCreador = true;\n        } else {\n          this.listaActividades[i].esCreador = false;\n        }\n\n        if (this.listaActividades[i].num_participantes == this.listaActividades[i].max_participantes) {\n          this.listaActividades[i].completa = true;\n        } else {\n          this.listaActividades[i].completa = false;\n        }\n      }\n\n      this.numActividades = this.listaActividades.length;\n    }\n\n    cargarIncidencias() {\n      this.incidenciaService.cargarIncidencias(this.idUsuario).subscribe(res => {\n        this.listaIncidencias = res['incidencias'];\n        this.numIncidencias = this.listaIncidencias.length;\n        console.log(res);\n\n        for (let i = 0; i < this.listaIncidencias.length; i++) {\n          this.convertirFecha2(this.listaIncidencias[i].fecha, i);\n          this.convertirMotivo(this.listaIncidencias[i].motivo, i);\n          this.cargarUsuario2(this.listaIncidencias[i].denunciado, i, 1);\n          this.cargarUsuario2(this.listaIncidencias[i].denunciante, i, 2);\n        }\n      }, err => {\n        console.log(err);\n      });\n    }\n\n    cargarUsuario2(id, pos, user) {\n      this.usuarioService.cargarUsuario(id).subscribe(res => {\n        switch (user) {\n          case 1:\n            this.listaIncidencias[pos].emailDenunciado = res['existeUsuario'].email;\n            break;\n\n          case 2:\n            this.listaIncidencias[pos].emailDenunciante = res['existeUsuario'].email;\n            break;\n        }\n      }, err => {\n        console.log(err);\n      });\n    }\n\n    convertirFecha2(fecha, pos) {\n      let date = new Date(fecha);\n      let d, m, dia, mes, anyo;\n      d = date.getDate();\n\n      if (d < 10) {\n        dia = \"0\" + d.toString();\n      } else {\n        dia = d.toString();\n      }\n\n      m = date.getMonth() + 1;\n\n      if (m < 10) {\n        mes = \"0\" + m.toString();\n      } else {\n        mes = m.toString();\n      }\n\n      anyo = date.getFullYear().toString();\n      let cadena = dia + \"-\" + mes + \"-\" + anyo;\n      this.listaIncidencias[pos].fecha2 = cadena;\n    }\n\n    convertirMotivo(motivo, pos) {\n      switch (motivo) {\n        case \"estafa\":\n          this.listaIncidencias[pos].motivo2 = \"Estafa\";\n          break;\n\n        case \"acoso\":\n          this.listaIncidencias[pos].motivo2 = \"Acoso\";\n          break;\n\n        case \"contenidoInapropiado\":\n          this.listaIncidencias[pos].motivo2 = \"Contenido Inapropiado\";\n          break;\n      }\n    }\n\n    validarFecha(fecha) {\n      let valida = true;\n      let hoy = new Date();\n      let f = new Date(fecha);\n\n      if (f.getFullYear() < hoy.getFullYear()) {\n        valida = false;\n      } else if (f.getFullYear() == hoy.getFullYear()) {\n        if (f.getMonth() < hoy.getMonth()) {\n          valida = false;\n        } else if (f.getMonth() == hoy.getMonth()) {\n          if (f.getDate() < hoy.getDate()) {\n            valida = false;\n          } else if (f.getDate() == hoy.getDate()) {\n            if (f.getHours() < hoy.getHours()) {\n              valida = false;\n            } else if (f.getHours() == hoy.getHours()) {\n              if (f.getMinutes() <= hoy.getMinutes()) {\n                valida = false;\n              }\n            }\n          }\n        }\n      }\n\n      return valida;\n    }\n\n    desbloquear(uid) {\n      this.usuarioService.bloquearUsuario(this.idUsuario, uid).subscribe(res => {\n        console.log(res);\n        Swal.fire({\n          icon: 'success',\n          title: 'Hecho!',\n          text: 'Usuario desbloqueado'\n        });\n      }, err => {\n        console.log(err);\n        const msgerror = err.error.msg || 'No se pudo completar la acción, vuelva a intentarlo';\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: msgerror\n        });\n      });\n    }\n\n    convertirFecha(date) {\n      let cadena = \"\";\n      let fecha = new Date(date);\n      let dia,\n          num,\n          mes,\n          hora,\n          min = \"\";\n\n      switch (fecha.getDay()) {\n        case 1:\n          dia = \"Lun\";\n          break;\n\n        case 2:\n          dia = \"Mar\";\n          break;\n\n        case 3:\n          dia = \"Mié\";\n          break;\n\n        case 4:\n          dia = \"Jue\";\n          break;\n\n        case 5:\n          dia = \"Vie\";\n          break;\n\n        case 6:\n          dia = \"Sáb\";\n          break;\n\n        case 0:\n          dia = \"Dom\";\n          break;\n      }\n\n      num = fecha.getDate().toString();\n\n      switch (fecha.getMonth()) {\n        case 0:\n          mes = \"Ene\";\n          break;\n\n        case 1:\n          mes = \"Feb\";\n          break;\n\n        case 2:\n          mes = \"Mar\";\n          break;\n\n        case 3:\n          mes = \"Abr\";\n          break;\n\n        case 4:\n          mes = \"May\";\n          break;\n\n        case 5:\n          mes = \"Jun\";\n          break;\n\n        case 6:\n          mes = \"Jul\";\n          break;\n\n        case 7:\n          mes = \"Ago\";\n          break;\n\n        case 8:\n          mes = \"Sep\";\n          break;\n\n        case 9:\n          mes = \"Oct\";\n          break;\n\n        case 10:\n          mes = \"Nov\";\n          break;\n\n        case 11:\n          mes = \"Dic\";\n          break;\n      }\n\n      let sh = fecha.getHours();\n\n      if (sh < 10) {\n        hora = \"0\" + sh.toString();\n      } else {\n        hora = sh.toString();\n      }\n\n      let sm = fecha.getMinutes();\n\n      if (sm < 10) {\n        min = \"0\" + sm.toString();\n      } else {\n        min = sm.toString();\n      }\n\n      cadena = dia + \", \" + num + \" \" + mes + \" · \" + hora + \":\" + min;\n      return cadena;\n    }\n\n    setBefore() {\n      localStorage.setItem('before', '/admin/usuarios/ver-usuario/' + this.idUsuario);\n    }\n\n    logout() {\n      this.usuarioService.logout();\n    }\n\n  }\n\n  VerUsuarioComponent.ɵfac = function VerUsuarioComponent_Factory(t) {\n    return new (t || VerUsuarioComponent)(i0.ɵɵdirectiveInject(i1.UsuarioService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.ProvinciaService), i0.ɵɵdirectiveInject(i4.ActividadesService), i0.ɵɵdirectiveInject(i5.IncidenciaService));\n  };\n\n  VerUsuarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VerUsuarioComponent,\n    selectors: [[\"app-ver-usuario\"]],\n    decls: 73,\n    vars: 17,\n    consts: [[1, \"mt-2\", \"admin-nav\"], [1, \"admin-header\"], [1, \"d-flex\"], [\"src\", \"../../../assets/imgs/Logo.png\", 1, \"logo\"], [1, \"mt-5\"], [1, \"admin-nav\"], [1, \"float-left\", \"mr-1\"], [1, \"dropdown\"], [\"type\", \"button\", \"data-toggle\", \"dropdown\", 1, \"menuBoton\"], [1, \"fa-solid\", \"fa-bars\", \"fa-2x\", \"p-1\"], [1, \"dropdown-menu\"], [1, \"dropdown-option\"], [\"routerLink\", \"/admin/usuarios\"], [\"routerLink\", \"/admin/actividades\"], [\"routerLink\", \"/admin/categorias\"], [\"routerLink\", \"/admin/incidencias\"], [1, \"logOutAdmin\", 3, \"click\"], [1, \"d-flex\", \"admin-nav-title\"], [1, \"ml-2\", \"my-auto\"], [1, \"title2\", \"mt-2\"], [1, \"d-flex\", \"my-auto\"], [\"routerLink\", \"/admin/usuarios\", 1, \"fa-solid\", \"fa-arrow-rotate-left\", \"fa-2x\", \"mx-3\"], [1, \"infoUsuario\"], [1, \"mx-auto\", \"text-center\"], [\"class\", \"marcoFPerfil3\", 4, \"ngIf\"], [\"class\", \"nombreUsuario\", 4, \"ngIf\"], [1, \"datosActividad\"], [4, \"ngIf\"], [1, \"fa-solid\", \"fa-location-dot\", \"fa-3x\", \"verUsuarioLocation\"], [\"class\", \"datosActividad\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [1, \"marcoFPerfil3\"], [1, \"fPerfil\", 3, \"src\"], [1, \"nombreUsuario\"], [1, \"desbloquearAdmin\", 3, \"click\"], [3, \"click\"], [\"class\", \"cardActividad\", 4, \"ngFor\", \"ngForOf\"], [1, \"cardActividad\"], [1, \"infoActivity\", \"d-flex\"], [1, \"location\", \"d-flex\"], [1, \"fa-solid\", \"fa-location-dot\"], [1, \"activity-content\", \"d-flex\"], [1, \"marcoFActividad\", 3, \"routerLink\"], [1, \"fActividad\", 3, \"src\"], [1, \"ml-4\", \"mr-6\", \"descActivity\"], [3, \"routerLink\"], [1, \"desc\"], [1, \"requisitos\"], [1, \"infoEmail\", 3, \"routerLink\"], [1, \"d-flex\", \"activityFooter\"], [1, \"precio\"], [1, \"participantes\", \"d-flex\"], [\"class\", \"actividadCompleta\", 4, \"ngIf\"], [1, \"actividadCompleta\"], [2, \"color\", \"#999999\"], [\"class\", \"resolverLink\", 3, \"routerLink\", \"click\", 4, \"ngIf\"], [1, \"divIncidencia\"], [1, \"resolverLink\", 3, \"routerLink\", \"click\"]],\n    template: function VerUsuarioComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"header\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementStart(4, \"h1\", 4);\n        i0.ɵɵtext(5, \"Panel de Control\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(6, \"nav\", 5)(7, \"div\", 6)(8, \"div\", 7)(9, \"button\", 8);\n        i0.ɵɵelement(10, \"i\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 10)(12, \"div\", 11)(13, \"button\", 12);\n        i0.ɵɵtext(14, \"Usuarios\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 11)(16, \"button\", 13);\n        i0.ɵɵtext(17, \"Actividades\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 11)(19, \"button\", 14);\n        i0.ɵɵtext(20, \"Categor\\u00EDas\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"div\", 11)(22, \"button\", 15);\n        i0.ɵɵtext(23, \"Incidencias\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 11)(25, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function VerUsuarioComponent_Template_button_click_25_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵtext(26, \"Cerrar Sesi\\u00F3n\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(27, \"div\", 17)(28, \"div\", 18)(29, \"h4\", 19);\n        i0.ɵɵtext(30, \"Ver Usuario\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\", 20);\n        i0.ɵɵelement(32, \"i\", 21);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(33, \"div\", 22)(34, \"div\", 23);\n        i0.ɵɵtemplate(35, VerUsuarioComponent_div_35_Template, 2, 1, \"div\", 24);\n        i0.ɵɵtemplate(36, VerUsuarioComponent_h2_36_Template, 2, 2, \"h2\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 26)(38, \"h1\");\n        i0.ɵɵtext(39, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(40, VerUsuarioComponent_p_40_Template, 2, 1, \"p\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 26)(42, \"h1\");\n        i0.ɵɵtext(43, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(44, VerUsuarioComponent_p_44_Template, 2, 1, \"p\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 2)(46, \"div\", 26)(47, \"h1\");\n        i0.ɵɵtext(48, \"Edad\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(49, VerUsuarioComponent_p_49_Template, 2, 2, \"p\", 27);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(50, \"div\", 26)(51, \"div\", 2)(52, \"h1\");\n        i0.ɵɵtext(53, \"Vive en...\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"i\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(55, VerUsuarioComponent_p_55_Template, 2, 2, \"p\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(56, VerUsuarioComponent_div_56_Template, 5, 0, \"div\", 29);\n        i0.ɵɵelementStart(57, \"div\", 26)(58, \"h1\");\n        i0.ɵɵtext(59, \"Actividades\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(60, VerUsuarioComponent_p_60_Template, 2, 1, \"p\", 27);\n        i0.ɵɵtemplate(61, VerUsuarioComponent_p_61_Template, 2, 1, \"p\", 27);\n        i0.ɵɵtemplate(62, VerUsuarioComponent_a_62_Template, 2, 0, \"a\", 30);\n        i0.ɵɵtemplate(63, VerUsuarioComponent_a_63_Template, 2, 0, \"a\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(64, VerUsuarioComponent_div_64_Template, 2, 1, \"div\", 27);\n        i0.ɵɵelementStart(65, \"div\", 26)(66, \"h1\");\n        i0.ɵɵtext(67, \"Incidencias\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(68, VerUsuarioComponent_p_68_Template, 2, 1, \"p\", 27);\n        i0.ɵɵtemplate(69, VerUsuarioComponent_p_69_Template, 2, 1, \"p\", 27);\n        i0.ɵɵtemplate(70, VerUsuarioComponent_a_70_Template, 2, 0, \"a\", 30);\n        i0.ɵɵtemplate(71, VerUsuarioComponent_a_71_Template, 2, 0, \"a\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(72, VerUsuarioComponent_div_72_Template, 2, 1, \"div\", 27);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(35);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.edad);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario && ctx.provincia);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario && ctx.usuario.bloqueado);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.numActividades !== 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.numActividades === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.numActividades > 0 && ctx.mostrarActividades == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.numActividades > 0 && ctx.mostrarActividades == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarActividades);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario && ctx.numIncidencias !== 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.usuario && ctx.numIncidencias === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.numIncidencias > 0 && ctx.mostrarIncidencias == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.numActividades > 0 && ctx.mostrarIncidencias == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarIncidencias);\n      }\n    },\n    directives: [i2.RouterLink, i6.NgIf, i6.NgForOf],\n    styles: [\"\"]\n  });\n  return VerUsuarioComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}