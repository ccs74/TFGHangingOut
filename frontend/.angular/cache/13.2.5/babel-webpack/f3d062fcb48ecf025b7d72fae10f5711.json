{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Usuario\\\\Documents\\\\ingenieriamultimedia\\\\TFG\\\\HangingOut\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/actividades.service\";\nimport * as i3 from \"../../services/usuario.service\";\nimport * as i4 from \"src/app/services/provincias.service\";\nimport * as i5 from \"src/app/services/categorias.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\n\nfunction CrearActividadComponent_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* El titulo es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* La descripci\\u00F3n es obligatoria y debe tener al menos 120 caracteres\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* Los requisitos son obligatorios\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* La fecha y hora son obligatorias\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* Debes crear la actividad con m\\u00EDnimo 2 horas de antelaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* El precio es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* Por favor, introduzca un m\\u00EDnimo de participantes\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* La direccion es obligatoria\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_p_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* La poblaci\\u00F3n es obligatoria\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_option_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 66);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const provincia_r17 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", provincia_r17.uid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(provincia_r17.nombre);\n  }\n}\n\nfunction CrearActividadComponent_p_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 65);\n    i0.ɵɵtext(1, \"* La provincia es obligatoria\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_div_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 67);\n    i0.ɵɵelement(1, \"img\", 68);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const foto_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", foto_r18, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction CrearActividadComponent_div_89_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 69)(1, \"i\", 70);\n    i0.ɵɵlistener(\"click\", function CrearActividadComponent_div_89_Template_i_click_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n      i0.ɵɵnextContext();\n\n      const _r13 = i0.ɵɵreference(95);\n\n      return _r13.click();\n    });\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction CrearActividadComponent_div_100_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 71);\n    i0.ɵɵlistener(\"change\", function CrearActividadComponent_div_100_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const categoria_r21 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.onCheckboxChange($event, categoria_r21.uid);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 72);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const categoria_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", categoria_r21.uid);\n    i0.ɵɵpropertyInterpolate(\"value\", categoria_r21.nombre);\n    i0.ɵɵproperty(\"checked\", categoria_r21.marcado);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(categoria_r21.nombre);\n  }\n}\n\nfunction CrearActividadComponent_p_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 73);\n    i0.ɵɵtext(1, \"* Por favor, seleccione m\\u00EDnimo una categor\\u00EDa\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CrearActividadComponent_i_113_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 74);\n  }\n}\n\nexport let CrearActividadComponent = /*#__PURE__*/(() => {\n  class CrearActividadComponent {\n    constructor(fb, actividadService, usuarioService, provinciaService, categoriasService, router, route) {\n      this.fb = fb;\n      this.actividadService = actividadService;\n      this.usuarioService = usuarioService;\n      this.provinciaService = provinciaService;\n      this.categoriasService = categoriasService;\n      this.router = router;\n      this.route = route;\n      this.registerForm = this.fb.group({\n        organizador: [''],\n        titulo: ['', Validators.required],\n        descripcion: ['', Validators.required],\n        requisitos: ['', Validators.required],\n        fecha: ['', [Validators.required]],\n        hora: ['', Validators.required],\n        direccion: ['', [Validators.required]],\n        poblacion: ['', Validators.required],\n        provincia: ['', Validators.required],\n        min_participantes: ['', Validators.required],\n        max_participantes: ['', Validators.required],\n        precio: ['', Validators.required],\n        categorias: [new Array([]), Validators.required],\n        participa: [''],\n        imagenes: [''],\n        fotos: ['']\n      });\n      this.fechaInvalida = false;\n      this.listaCategorias = [];\n      this.listaFotos = [];\n      this.listaArchivos = [];\n      this.filechanged = false;\n      this.listaProvincias = [];\n      this.participa = false;\n      this.formSubmit = false;\n      this.waiting = false;\n      this.pathFotos = \"\";\n      this.faltaCategoria = false;\n      this.checked1 = false;\n      this.checked2 = false;\n    }\n\n    ngOnInit() {\n      this.queDiaEsHoy();\n      this.cargarProvincias();\n      this.cargarCategorias();\n      this.cargarOrganizador();\n      this.pathFotos = \"../../../assets/imgs/actividades/\";\n    }\n\n    cargarOrganizador() {\n      let email = localStorage.getItem('email');\n\n      if (!email) {\n        email = \"\";\n      }\n\n      this.usuarioService.cargarUsuario(\"\", email).subscribe(res => {\n        this.usuarioId = res['existeUsuario'].uid;\n      }, err => {\n        console.log(err);\n      });\n    }\n\n    convertirFechayHora() {\n      var _a, _b, _c;\n\n      let fecha = new Date((_a = this.registerForm.get('fecha')) === null || _a === void 0 ? void 0 : _a.value);\n      let nuevaFecha = new Date();\n      let sh = (_b = this.registerForm.get('hora')) === null || _b === void 0 ? void 0 : _b.value.split(':')[0];\n      let sm = (_c = this.registerForm.get('hora')) === null || _c === void 0 ? void 0 : _c.value.split(':')[1];\n      nuevaFecha.setFullYear(fecha.getFullYear());\n      nuevaFecha.setMonth(fecha.getMonth());\n      nuevaFecha.setDate(fecha.getDate());\n      nuevaFecha.setHours(sh);\n      nuevaFecha.setMinutes(sm);\n      return nuevaFecha;\n    }\n\n    crearActividad() {\n      var _a, _b, _c, _d, _e;\n\n      this.formSubmit = true;\n      (_a = this.registerForm.get('organizador')) === null || _a === void 0 ? void 0 : _a.setValue(this.usuarioId);\n\n      if (!this.registerForm.valid) {\n        window.scroll({\n          top: 0,\n          left: 0,\n          behavior: 'smooth'\n        });\n        console.log('el formulario no es válido');\n        return;\n      }\n\n      this.waiting = true;\n      console.log(this.registerForm.value);\n      let categorias = [];\n\n      for (let i = 0; i < this.listaCategorias.length; i++) {\n        if (this.listaCategorias[i].marcado) {\n          categorias.push(this.listaCategorias[i].uid);\n        }\n      }\n\n      (_b = this.registerForm.get('fecha')) === null || _b === void 0 ? void 0 : _b.setValue(this.convertirFechayHora());\n      (_c = this.registerForm.get('participa')) === null || _c === void 0 ? void 0 : _c.setValue(this.participa);\n      (_d = this.registerForm.get('categorias')) === null || _d === void 0 ? void 0 : _d.setValue(categorias);\n      (_e = this.registerForm.get('organizador')) === null || _e === void 0 ? void 0 : _e.setValue(this.usuarioId);\n      this.actividadService.crearActividad(this.registerForm.value).subscribe(res => {\n        this.actividadId = res['actividad'].uid;\n\n        if (this.filechanged) {\n          this.subirFotos(res['actividad'].uid);\n        }\n\n        this.waiting = false;\n        Swal.fire({\n          icon: 'success',\n          title: 'Hecho!',\n          text: 'Actividad creada correctamente'\n        }).then(result => {\n          if (result.isConfirmed) {\n            this.router.navigateByUrl('/actividades/organizadas');\n          }\n        });\n      }, err => {\n        console.log(err);\n        this.waiting = false;\n        const msgerror = err.error.msg || 'No se pudo completar la acción, vuelva a intentarlo';\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: msgerror\n        });\n      });\n    }\n\n    cargarProvincias() {\n      this.provinciaService.cargarProvincias().subscribe(res => {\n        console.log(res);\n        this.listaProvincias = res['provincias'];\n      }, err => {\n        const msgerror = err.error.msg || 'No se pudo completar la acción, vuelva a intentarlo';\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: msgerror\n        });\n      });\n    }\n\n    cargarCategorias() {\n      this.categoriasService.cargarCategorias().subscribe(res => {\n        this.listaCategorias = res['categorias'];\n        console.log(this.listaCategorias);\n      }, err => {\n        const msgerror = err.error.msg || 'No se pudo completar la acción, vuelva a intentarlo';\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: msgerror\n        });\n      });\n    }\n\n    selectFiles(event) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.filechanged = true;\n        const filesToUpload = event.target.files;\n\n        _this.listaArchivos.push(filesToUpload[0]);\n\n        console.log(filesToUpload);\n        var reader = new FileReader(); // this.imagePath = event.target.files;\n\n        reader.readAsDataURL(filesToUpload[0]);\n\n        reader.onload = _event => {\n          _this.listaFotos.push(reader.result);\n        };\n      })();\n    }\n\n    subirFotos(idActividad) {\n      const formData = new FormData();\n      console.log(this.listaArchivos);\n\n      for (let i = 0; i < this.listaArchivos.length; i++) {\n        formData.append('fotos', this.listaArchivos[i]);\n      }\n\n      console.log(formData);\n      this.actividadService.subirFotos(idActividad, formData).subscribe(res => {\n        var _a, _b, _c;\n\n        console.log(res);\n        let fotos = (_a = this.registerForm.get('imagenes')) === null || _a === void 0 ? void 0 : _a.value;\n\n        if (!fotos) {\n          fotos = [];\n        }\n\n        for (let i = 0; i < res['listaFotos'].length; i++) {\n          if (fotos[0] == \"\") {\n            fotos[0] = res['listaFotos'][i];\n          } else {\n            fotos.push(res['listaFotos'][i]);\n          }\n        }\n\n        (_b = this.registerForm.get('imagenes')) === null || _b === void 0 ? void 0 : _b.setValue(fotos);\n        (_c = this.registerForm.get('fotos')) === null || _c === void 0 ? void 0 : _c.setValue(fotos);\n        this.actividadService.actualizarActividad(idActividad, this.registerForm.value).subscribe(res => {\n          console.log(res);\n          this.waiting = false;\n          Swal.fire({\n            icon: 'success',\n            title: 'Hecho!',\n            text: 'Actividad Creada Correctamente'\n          }).then(result => {\n            if (result.isConfirmed) {\n              this.router.navigateByUrl('/actividades/organizadas');\n            }\n          });\n        }, err => {\n          console.log(err);\n          this.waiting = false;\n        });\n      }, err => {\n        console.log(err);\n        const msgerror = err.error.msg || 'No se pudo completar la acción, vuelva a intentarlo';\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: msgerror\n        });\n      });\n    }\n\n    onCheckboxChange(e, uid) {\n      if (e.target.checked) {\n        for (let i = 0; i < this.listaCategorias.length; i++) {\n          if (this.listaCategorias[i].uid === uid) {\n            this.listaCategorias[i].marcado = true;\n          }\n        }\n      } else {\n        for (let i = 0; i < this.listaCategorias.length; i++) {\n          if (this.listaCategorias[i].uid === uid) {\n            this.listaCategorias[i].marcado = false;\n          }\n        }\n      }\n    }\n\n    borrarFotos() {\n      console.log(\"Quiero borrar fotos\");\n      this.listaFotos = [];\n      this.listaArchivos = [];\n    }\n\n    onCheckboxChange2(num) {\n      var _a;\n\n      if (num == 1) {\n        if (this.checked1 == false) {\n          this.participa = true;\n          this.checked1 = true;\n          this.checked2 = false;\n        } else {\n          this.participa = false;\n          this.checked1 = false;\n          this.checked2 = true;\n        }\n      } else {\n        if (this.checked2 == false) {\n          this.participa = false;\n          this.checked2 = true;\n          this.checked1 = false;\n        } else {\n          this.participa = true;\n          this.checked2 = false;\n          this.checked1 = true;\n        }\n      }\n\n      (_a = this.registerForm.get('participa')) === null || _a === void 0 ? void 0 : _a.setValue(this.participa);\n    }\n\n    convertirFecha(datecita) {\n      let year = datecita.getFullYear().toString();\n      let month = datecita.getMonth() + 1;\n      let dt = datecita.getDate();\n      let stringo = '',\n          sdia = '',\n          smes = '',\n          syear = '';\n\n      if (dt < 10) {\n        sdia = '0' + dt.toString();\n      } else {\n        sdia = dt.toString();\n      }\n\n      if (month < 10) {\n        smes = '0' + month.toString();\n      } else {\n        smes = month.toString();\n      }\n\n      syear = year.toString();\n      stringo = syear + '-' + smes + '-' + sdia;\n      return stringo;\n    }\n\n    convertirHora(fecha) {\n      let hora = fecha.getHours();\n      let minutos = fecha.getMinutes();\n      let shora = \"\",\n          sminut = \"\";\n\n      if (hora < 10) {\n        shora = \"0\" + hora.toString();\n      } else {\n        shora = hora.toString();\n      }\n\n      if (minutos < 10) {\n        sminut = \"0\" + minutos.toString();\n      } else {\n        sminut = minutos.toString();\n      }\n\n      let resultado = \"\";\n      resultado = shora + \":\" + sminut;\n      return resultado;\n    }\n\n    get arrayCategorias() {\n      return this.registerForm.controls[\"categorias\"];\n    }\n\n    campoValido(campo) {\n      var _a, _b, _c, _d, _e;\n\n      if (campo === 'hora') {\n        if (((_a = this.registerForm.get('fecha')) === null || _a === void 0 ? void 0 : _a.value) != '' && ((_b = this.registerForm.get('hora')) === null || _b === void 0 ? void 0 : _b.value) != '') {\n          var hoy = new Date();\n          var f = (_c = this.registerForm.get(campo)) === null || _c === void 0 ? void 0 : _c.value;\n          var hora = f.split(\":\")[0];\n          var mins = f.split(\":\")[1];\n          var fecha = new Date((_d = this.registerForm.get('fecha')) === null || _d === void 0 ? void 0 : _d.value);\n\n          if (fecha.getFullYear() < hoy.getFullYear()) {\n            this.fechaInvalida = true;\n          } else if (fecha.getFullYear() == hoy.getFullYear()) {\n            if (fecha.getMonth() < hoy.getMonth()) {\n              this.fechaInvalida = true;\n            } else if (fecha.getMonth() == hoy.getMonth()) {\n              if (fecha.getDate() < hoy.getDate()) {\n                this.fechaInvalida = true;\n              } else if (fecha.getDate() == hoy.getDate()) {\n                if (hora - 2 < hoy.getHours()) {\n                  this.fechaInvalida = true;\n                } else if (hora - 2 == hoy.getHours()) {\n                  if (mins < hoy.getMinutes()) {\n                    this.fechaInvalida = true;\n                  } else {\n                    this.fechaInvalida = false;\n                  }\n                }\n              }\n            }\n          }\n        } else {\n          this.fechaInvalida = false;\n        }\n      }\n\n      this.comprobarCategorias();\n      return ((_e = this.registerForm.get(campo)) === null || _e === void 0 ? void 0 : _e.valid) || !this.formSubmit;\n    }\n\n    comprobarCategorias() {\n      let cont = 0;\n\n      for (let i = 0; i < this.listaCategorias.length; i++) {\n        if (this.listaCategorias[i].marcado == true) {\n          cont++;\n        }\n      }\n\n      if (cont < 1) {\n        this.faltaCategoria = true;\n      } else {\n        this.faltaCategoria = false;\n      }\n    }\n\n    queDiaEsHoy() {\n      this.hoy = new Date().toISOString().slice(0, 10);\n    }\n\n  }\n\n  CrearActividadComponent.ɵfac = function CrearActividadComponent_Factory(t) {\n    return new (t || CrearActividadComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActividadesService), i0.ɵɵdirectiveInject(i3.UsuarioService), i0.ɵɵdirectiveInject(i4.ProvinciaService), i0.ɵɵdirectiveInject(i5.CategoriasService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i6.ActivatedRoute));\n  };\n\n  CrearActividadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CrearActividadComponent,\n    selectors: [[\"app-crear-actividad\"]],\n    decls: 128,\n    vars: 20,\n    consts: [[\"id\", \"admin-back\"], [1, \"admin-header\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"d-flex\"], [\"src\", \"../../../assets/imgs/Logo.png\", 1, \"logo\"], [\"routerLink\", \"/editar-perfil\", 1, \"fa-solid\", \"fa-user\", \"fa-3x\"], [1, \"d-flex\", \"navSup\"], [1, \"title2\", \"mt-2\"], [\"routerLink\", \"/actividades/organizadas\", 1, \"fa-solid\", \"fa-arrow-rotate-left\", \"fa-2x\"], [1, \"crearActivity\", 3, \"formGroup\", \"ngSubmit\"], [\"for\", \"nombre\", 1, \"tituloForm\", \"mt-3\"], [\"type\", \"text\", \"formControlName\", \"titulo\", \"required\", \"\", 1, \"inputForm\"], [\"class\", \"small text-danger font-italic invalid-msg\", 4, \"ngIf\"], [\"for\", \"descripcion\", 1, \"tituloForm\"], [\"formControlName\", \"descripcion\", \"minlength\", \"120\", \"required\", \"\", 1, \"inputForm\"], [\"for\", \"requisitos\", 1, \"tituloForm\"], [\"formControlName\", \"requisitos\", \"required\", \"\", 1, \"inputForm\"], [1, \"tituloForm\"], [1, \"fecha\"], [\"for\", \"fecha\"], [\"type\", \"date\", \"formControlName\", \"fecha\", \"value\", \"dd/mm/aaaa\", \"required\", \"\", 1, \"inputForm\", 3, \"min\"], [1, \"fa-solid\", \"fa-calendar-days\", \"crearActividadCalendario\"], [1, \"hora\"], [\"for\", \"hora\"], [\"type\", \"time\", \"formControlName\", \"hora\", \"value\", \"hh:mm\", \"required\", \"\", 1, \"inputForm\"], [\"for\", \"precio\", 1, \"tituloForm\"], [\"type\", \"number\", \"id\", \"precio\", \"formControlName\", \"precio\", \"required\", \"\", 1, \"inputForm\"], [2, \"margin-top\", \"4px\"], [1, \"d-flex\", \"ml-3\", \"participants\"], [\"for\", \"minimo\"], [\"type\", \"number\", \"formControlName\", \"min_participantes\", \"value\", \"0\", \"required\", \"\", 1, \"inputForm\"], [1, \"d-flex\", \"participants\"], [\"for\", \"maximo\"], [\"type\", \"number\", \"formControlName\", \"max_participantes\", 1, \"inputForm\"], [\"for\", \"direccion\", 1, \"tituloForm\"], [\"type\", \"text\", \"formControlName\", \"direccion\", 1, \"inputForm\"], [\"for\", \"poblacion\", 1, \"tituloForm\"], [\"type\", \"text\", \"formControlName\", \"poblacion\", \"required\", \"\", 1, \"inputForm\"], [\"for\", \"provincia\", 1, \"tituloForm\"], [\"id\", \"provincia\", \"formControlName\", \"provincia\", 1, \"inputForm\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"fotos\", 1, \"tituloForm\"], [1, \"d-flex\", \"pr-3\"], [\"class\", \"marcoFActividad2 mt-0\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"addFoto\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"borrarFotos\", 3, \"click\"], [1, \"divInputFile\", \"mt-3\", \"mx-4\"], [\"id\", \"inputFile\", \"type\", \"file\", \"hidden\", \"\", \"accept\", \"image/*, .png, .jpg, .jpeg\", 3, \"change\"], [\"fileInput\", \"\"], [\"id\", \"categorias\"], [\"for\", \"categorias\", 1, \"tituloForm\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"small text-danger font-italic invalid-msg mt-1\", 4, \"ngIf\"], [1, \"participa\", \"mt-3\"], [\"for\", \"participa\", 1, \"tituloForm\"], [\"type\", \"checkbox\", 3, \"checked\", \"change\"], [\"type\", \"submit\", 1, \"big-button\", \"mt-5\"], [\"class\", \"fa fa-spinner fa-spin mr-2\", 4, \"ngIf\"], [1, \"navBarCliente\", \"d-flex\"], [\"routerLink\", \"/usuarios\", 1, \"fa-solid\", \"fa-user-group\", \"fa-3x\"], [1, \"clicked\"], [\"routerLink\", \"/actividades/organizadas\", 1, \"fa-solid\", \"fa-rectangle-list\", \"fa-3x\"], [\"routerLink\", \"/resultados-actividades\", 1, \"fa-solid\", \"fa-magnifying-glass\", \"fa-3x\"], [\"routerLink\", \"/chats\", 1, \"fa-solid\", \"fa-comments\", \"fa-3x\"], [1, \"small\", \"text-danger\", \"font-italic\", \"invalid-msg\"], [3, \"value\"], [1, \"marcoFActividad2\", \"mt-0\"], [1, \"fActividad\", 3, \"src\"], [1, \"addFoto\"], [1, \"fa-solid\", \"fa-plus\", 3, \"click\"], [\"type\", \"checkbox\", 1, \"mr-2\", \"ml-4\", \"checkCategoria\", 3, \"id\", \"value\", \"checked\", \"change\"], [\"for\", \"categoria\", 1, \"form-check-label\"], [1, \"small\", \"text-danger\", \"font-italic\", \"invalid-msg\", \"mt-1\"], [1, \"fa\", \"fa-spinner\", \"fa-spin\", \"mr-2\"]],\n    template: function CrearActividadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"header\", 1)(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementStart(5, \"h1\");\n        i0.ɵɵtext(6, \"Actividades\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(7, \"i\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"h1\", 7);\n        i0.ɵɵtext(10, \"A\\u00F1adir\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"i\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function CrearActividadComponent_Template_form_ngSubmit_12_listener() {\n          return ctx.crearActividad();\n        });\n        i0.ɵɵelementStart(13, \"div\")(14, \"label\", 10);\n        i0.ɵɵtext(15, \"Titulo*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"br\")(17, \"input\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(18, CrearActividadComponent_p_18_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementStart(19, \"div\")(20, \"label\", 13);\n        i0.ɵɵtext(21, \"Descripci\\u00F3n*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(22, \"br\")(23, \"textarea\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(24, CrearActividadComponent_p_24_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementStart(25, \"div\")(26, \"label\", 15);\n        i0.ɵɵtext(27, \"Requisitos*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"br\")(29, \"textarea\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, CrearActividadComponent_p_30_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementStart(31, \"div\")(32, \"h1\", 17);\n        i0.ɵɵtext(33, \"Fecha y Hora*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 3)(35, \"div\", 18);\n        i0.ɵɵelement(36, \"label\", 19);\n        i0.ɵɵelementStart(37, \"div\", 3);\n        i0.ɵɵelement(38, \"input\", 20)(39, \"i\", 21);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"div\", 22);\n        i0.ɵɵelement(41, \"label\", 23)(42, \"input\", 24);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(43, CrearActividadComponent_p_43_Template, 2, 0, \"p\", 12);\n        i0.ɵɵtemplate(44, CrearActividadComponent_p_44_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 3)(46, \"div\")(47, \"label\", 25);\n        i0.ɵɵtext(48, \"Precio (\\u20AC)*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(49, \"input\", 26);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 27)(51, \"h1\", 17);\n        i0.ɵɵtext(52, \"Participantes*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\", 3)(54, \"div\", 28)(55, \"label\", 29);\n        i0.ɵɵtext(56, \"M\\u00EDn: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(57, \"input\", 30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"div\", 31)(59, \"label\", 32);\n        i0.ɵɵtext(60, \"M\\u00E1x: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(61, \"input\", 33);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(62, \"div\", 3);\n        i0.ɵɵtemplate(63, CrearActividadComponent_p_63_Template, 2, 0, \"p\", 12);\n        i0.ɵɵtemplate(64, CrearActividadComponent_p_64_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"div\")(66, \"label\", 34);\n        i0.ɵɵtext(67, \"Direcci\\u00F3n*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(68, \"input\", 35);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(69, CrearActividadComponent_p_69_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementStart(70, \"div\")(71, \"label\", 36);\n        i0.ɵɵtext(72, \"Poblaci\\u00F3n*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(73, \"input\", 37);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(74, CrearActividadComponent_p_74_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementStart(75, \"div\")(76, \"label\", 38);\n        i0.ɵɵtext(77, \"Provincia*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(78, \"br\");\n        i0.ɵɵelementStart(79, \"select\", 39)(80, \"option\", 40);\n        i0.ɵɵtext(81, \"Provincia\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(82, CrearActividadComponent_option_82_Template, 2, 2, \"option\", 41);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(83, CrearActividadComponent_p_83_Template, 2, 0, \"p\", 12);\n        i0.ɵɵelementStart(84, \"div\")(85, \"label\", 42);\n        i0.ɵɵtext(86, \"Fotos*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(87, \"div\", 43);\n        i0.ɵɵtemplate(88, CrearActividadComponent_div_88_Template, 2, 1, \"div\", 44);\n        i0.ɵɵtemplate(89, CrearActividadComponent_div_89_Template, 2, 0, \"div\", 45);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(90, \"div\")(91, \"button\", 46);\n        i0.ɵɵlistener(\"click\", function CrearActividadComponent_Template_button_click_91_listener() {\n          return ctx.borrarFotos();\n        });\n        i0.ɵɵtext(92, \"Borrar fotos\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(93, \"div\", 47)(94, \"input\", 48, 49);\n        i0.ɵɵlistener(\"change\", function CrearActividadComponent_Template_input_change_94_listener($event) {\n          return ctx.selectFiles($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(96, \"div\", 50)(97, \"label\", 51);\n        i0.ɵɵtext(98, \"Categor\\u00EDas*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(99, \"br\");\n        i0.ɵɵtemplate(100, CrearActividadComponent_div_100_Template, 4, 4, \"div\", 52);\n        i0.ɵɵtemplate(101, CrearActividadComponent_p_101_Template, 2, 0, \"p\", 53);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(102, \"div\", 54)(103, \"label\", 55);\n        i0.ɵɵtext(104, \"\\u00BFVas a participar en la actividad?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(105, \"br\");\n        i0.ɵɵelementStart(106, \"input\", 56);\n        i0.ɵɵlistener(\"change\", function CrearActividadComponent_Template_input_change_106_listener() {\n          return ctx.onCheckboxChange2(1);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(107, \"span\");\n        i0.ɵɵtext(108, \"S\\u00ED\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(109, \"input\", 56);\n        i0.ɵɵlistener(\"change\", function CrearActividadComponent_Template_input_change_109_listener() {\n          return ctx.onCheckboxChange2(2);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(110, \"span\");\n        i0.ɵɵtext(111, \"No\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(112, \"button\", 57);\n        i0.ɵɵtemplate(113, CrearActividadComponent_i_113_Template, 1, 0, \"i\", 58);\n        i0.ɵɵtext(114, \"A\\u00F1adir\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(115, \"div\", 59)(116, \"div\")(117, \"button\");\n        i0.ɵɵelement(118, \"i\", 60);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(119, \"div\", 61)(120, \"button\");\n        i0.ɵɵelement(121, \"i\", 62);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(122, \"div\")(123, \"button\");\n        i0.ɵɵelement(124, \"i\", 63);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(125, \"div\")(126, \"button\");\n        i0.ɵɵelement(127, \"i\", 64);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"titulo\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"descripcion\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"requisitos\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵpropertyInterpolate(\"min\", ctx.hoy);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"fecha\") || !ctx.campoValido(\"hora\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.fechaInvalida);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"precio\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"min_participantes\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"direccion\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"poblacion\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listaProvincias);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.campoValido(\"provincia\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listaFotos);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.listaFotos.length < 4);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngForOf\", ctx.listaCategorias);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmit && ctx.faltaCategoria);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"checked\", ctx.checked1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"checked\", ctx.checked2);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.waiting);\n      }\n    },\n    directives: [i6.RouterLink, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i7.NgIf, i1.MinLengthValidator, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i7.NgForOf],\n    styles: [\"\"]\n  });\n  return CrearActividadComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}